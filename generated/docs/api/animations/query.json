{
  "id": "api/animations/query",
  "title": "query",
  "contents": "\n\n<article>\n  <div class=\"page-actions\">\n    <a href=\"https://github.com/angular/angular/edit/master/packages/animations/src/animation_metadata.ts?message=docs(animations)%3A%20describe%20your%20change...#L1043-L1140\" aria-label=\"Suggest Edits\" title=\"Suggest Edits\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n    <a href=\"https://github.com/angular/angular/tree/6.0.0/packages/animations/src/animation_metadata.ts#L1043-L1140\" aria-label=\"View Source\" title=\"View Source\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n  </div>\n  <div class=\"breadcrumb\">\n    <script type=\"application/ld+json\">\n      {\n        \"@context\": \"http://schema.org\",\n        \"@type\": \"BreadcrumbList\",\n        \"itemListElement\": [\n          { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.io//api\", \"name\": \"API\" } },\n          { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.io/api/animations\", \"name\": \"@angular/animations\" } },\n          { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.io/api/animations/query\", \"name\": \"query\" } }\n        ]\n      }\n    </script>\n      <a href=\"/api\">API</a> / <a href=\"api/animations\">@angular/animations</a>\n  </div>\n  <header class=\"api-header\">\n    <h1 id=\"query\">query<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/animations/query#query\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label function\">function</label>\n    \n    <label class=\"api-status-label experimental\">experimental</label>\n    \n    \n  </header>\n  <aio-toc class=\"embedded\"></aio-toc>\n\n  <div class=\"api-body\">\n    \n  <p class=\"short-description\"></p><p translation-origin=\"off\"><code><a href=\"api/animations/query\" class=\"code-anchor\">query</a></code> is an animation-specific function that is designed to be used inside of Angular's\nanimation DSL language.</p>\n<p></p>\n  \n  \n  \n\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"> <a href=\"api/animations/query\" class=\"code-anchor\">query</a>(selector: string, <a href=\"api/animations/animation\" class=\"code-anchor\">animation</a>: <a href=\"api/animations/AnimationMetadata\" class=\"code-anchor\">AnimationMetadata</a> | <a href=\"api/animations/AnimationMetadata\" class=\"code-anchor\">AnimationMetadata</a>[], options: <a href=\"api/animations/AnimationQueryOptions\" class=\"code-anchor\">AnimationQueryOptions</a> | null = null): <a href=\"api/animations/AnimationQueryMetadata\" class=\"code-anchor\">AnimationQueryMetadata</a></code-example>\n\n\n\n<h4 class=\"no-anchor\" id=\"parameters\">Parameters</h4>\n<table class=\"is-full-width list-table parameters-table function-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>selector</td>\n      \n      <td class=\"param-description\">\n            <p translation-origin=\"off\">Type: <code>string</code>.</p>\n      \n      </td>\n    </tr>\n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>animation</td>\n      \n      <td class=\"param-description\">\n            <p translation-origin=\"off\">Type: <code><a href=\"api/animations/AnimationMetadata\" class=\"code-anchor\">AnimationMetadata</a> | <a href=\"api/animations/AnimationMetadata\" class=\"code-anchor\">AnimationMetadata</a>[]</code>.</p>\n      \n      </td>\n    </tr>\n    <tr class=\"function-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>options</td>\n      \n      <td class=\"param-description\">\n            <p translation-origin=\"off\">Type: <code><a href=\"api/animations/AnimationQueryOptions\" class=\"code-anchor\">AnimationQueryOptions</a> | null</code>.</p>\n      <p translation-origin=\"off\">Optional. Default is <code>null</code>.</p>\n      \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<h4 class=\"no-anchor\" id=\"returns\">Returns</h4>\n<p translation-origin=\"off\"><code><a href=\"api/animations/AnimationQueryMetadata\" class=\"code-anchor\">AnimationQueryMetadata</a></code></p>\n\n\n\n\n\n\n\n\n\n  \n\n  \n\n<section class=\"description\">\n  <h2 id=\"description\">Description<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/animations/query#description\"><i class=\"material-icons\">link</i></a></h2>\n  <p translation-origin=\"off\">query() is used to find one or more inner elements within the current element that is\nbeing animated within the sequence. The provided animation steps are applied\nto the queried element (by default, an array is provided, then this will be\ntreated as an animation sequence).</p>\n<h3 translation-origin=\"off\" id=\"usage\">Usage<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/animations/query#usage\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-origin=\"off\">query() is designed to collect multiple elements and works internally by using\n<code>element.querySelectorAll</code>. An additional options object can be provided which\ncan be used to limit the total amount of items to be collected.</p>\n<code-example language=\"js\">\n<a href=\"api/animations/query\" class=\"code-anchor\">query</a>('div', [\n  <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>(...),\n  <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>(...)\n], { limit: 1 })\n</code-example>\n<p translation-origin=\"off\">query(), by default, will throw an error when zero items are found. If a query\nhas the <code>optional</code> flag set to true then this error will be ignored.</p>\n<code-example language=\"js\">\n<a href=\"api/animations/query\" class=\"code-anchor\">query</a>('.some-element-that-may-not-be-there', [\n  <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>(...),\n  <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>(...)\n], { optional: true })\n</code-example>\n<h3 translation-origin=\"off\" id=\"special-selector-values\">Special Selector Values<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/animations/query#special-selector-values\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-origin=\"off\">The selector value within a query can collect elements that contain angular-specific\ncharacteristics\nusing special pseudo-selectors tokens.</p>\n<p translation-origin=\"off\">These include:</p>\n<ul>\n<li>Querying for newly inserted/removed elements using <code><a href=\"api/animations/query\" class=\"code-anchor\">query</a>(\":enter\")</code>/<code><a href=\"api/animations/query\" class=\"code-anchor\">query</a>(\":leave\")</code></li>\n<li>Querying all currently animating elements using <code><a href=\"api/animations/query\" class=\"code-anchor\">query</a>(\":animating\")</code></li>\n<li>Querying elements that contain an animation trigger using <code><a href=\"api/animations/query\" class=\"code-anchor\">query</a>(\"@triggerName\")</code></li>\n<li>Querying all elements that contain an animation triggers using <code><a href=\"api/animations/query\" class=\"code-anchor\">query</a>(\"@*\")</code></li>\n<li>Including the current element into the animation sequence using <code><a href=\"api/animations/query\" class=\"code-anchor\">query</a>(\":self\")</code></li>\n</ul>\n<p translation-origin=\"off\"> Each of these pseudo-selector tokens can be merged together into a combined query selector\nstring:</p>\n<code-example>\n<a href=\"api/animations/query\" class=\"code-anchor\">query</a>(':self, .record:enter, .record:leave, @subTrigger', [...])\n</code-example>\n<h3 translation-origin=\"off\" id=\"demo\">Demo<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/animations/query#demo\"><i class=\"material-icons\">link</i></a></h3>\n<code-example>\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'inner',\n  template: `\n    &#x3C;div [@queryAnimation]=\"exp\">\n      &#x3C;h1><a href=\"api/platform-browser/Title\" class=\"code-anchor\">Title</a>&#x3C;/h1>\n      &#x3C;div class=\"content\">\n        Blah blah blah\n      &#x3C;/div>\n    &#x3C;/div>\n  `,\n  animations: [\n   <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>('queryAnimation', [\n     <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>('* => goAnimate', [\n       // hide the inner elements\n       <a href=\"api/animations/query\" class=\"code-anchor\">query</a>('h1', <a href=\"api/animations/style\" class=\"code-anchor\">style</a>({ opacity: 0 })),\n       <a href=\"api/animations/query\" class=\"code-anchor\">query</a>('.content', <a href=\"api/animations/style\" class=\"code-anchor\">style</a>({ opacity: 0 })),\n\n       // <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a> the inner elements in, one by one\n       <a href=\"api/animations/query\" class=\"code-anchor\">query</a>('h1', <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>(1000, <a href=\"api/animations/style\" class=\"code-anchor\">style</a>({ opacity: 1 })),\n       <a href=\"api/animations/query\" class=\"code-anchor\">query</a>('.content', <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>(1000, <a href=\"api/animations/style\" class=\"code-anchor\">style</a>({ opacity: 1 })),\n     ])\n   ])\n ]\n})\nclass Cmp {\n  exp = '';\n\n  goAnimate() {\n    this.exp = 'goAnimate';\n  }\n}\n</code-example>\n\n</section>\n\n\n\n  \n\n\n  </div>\n</article>\n\n<!-- links to this doc:\n - api/animations\n - api/animations/AnimationOptions\n - api/animations/AnimationQueryOptions\n - api/animations/animateChild\n - api/animations/browser/AnimationDriver\n - api/animations/browser/testing/MockAnimationDriver\n - api/animations/stagger\n - api/animations/transition\n - api/animations/trigger\n - api/common/Location\n - api/common/testing/MockLocationStrategy\n - api/common/testing/SpyLocation\n - api/core/DebugElement\n - api/http/testing/MockBackend\n - api/router/NavigationExtras\n - guide/router\n - guide/testing\n - guide/upgrade\n-->\n<!-- links from this doc:\n - /api\n - api/animations\n - api/animations/AnimationMetadata\n - api/animations/AnimationQueryMetadata\n - api/animations/AnimationQueryOptions\n - api/animations/animate\n - api/animations/animation\n - api/animations/query#demo\n - api/animations/query#description\n - api/animations/query#query\n - api/animations/query#special-selector-values\n - api/animations/query#usage\n - api/animations/style\n - api/animations/transition\n - api/animations/trigger\n - api/core/Component\n - api/platform-browser/Title\n - https://github.com/angular/angular/edit/master/packages/animations/src/animation_metadata.ts?message=docs(animations)%3A%20describe%20your%20change...#L1043-L1140\n - https://github.com/angular/angular/tree/6.0.0/packages/animations/src/animation_metadata.ts#L1043-L1140\n-->"
}